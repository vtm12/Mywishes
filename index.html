<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>SEX WISHES</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      margin: 20px; 
      text-align: center; 
      background-color: #000; 
      color: #f00; 
    }
    .screen { display: none; }
    .active { display: block; }
    input, button { 
      margin: 10px; 
      padding: 10px; 
      font-size: 16px; 
      background: #111; 
      color: #f00; 
      border: 1px solid #f00;
      border-radius: 5px;
    }
    input::placeholder { color: #777; }
    button:hover { background: #f00; color: #000; cursor: pointer; }
    #reward { font-weight: bold; color: #0f0; }
    #rating { font-weight: bold; color: #ff0; }
  </style>
</head>
<body>

  <!-- –≠–∫—Ä–∞–Ω 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
  <div id="screen1" class="screen active">
    <h2>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫</h2>
    <input type="text" id="nickname" placeholder="–í–∞—à –Ω–∏–∫">
    <br>
    <button onclick="startGame()">–ù–∞—á–∞—Ç—å</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω 2: –ò–≥—Ä–∞ -->
  <div id="screen2" class="screen">
    <h2>–ü—Ä–∏–≤–µ—Ç, <span id="playerName"></span>!</h2>
    <p>–í–∞—à —Ä–µ–π—Ç–∏–Ω–≥: <span id="rating">0</span></p>

    <p>–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä –∂–µ–ª–∞–Ω–∏—è (–æ—Ç 1 –¥–æ <span id="wishCount"></span>):</p>
    <input type="number" id="wishNumber" min="1">
    <button onclick="showWish()">–ü–æ–∫–∞–∑–∞—Ç—å –∂–µ–ª–∞–Ω–∏–µ</button>

    <div id="currentWish" style="margin-top:20px;"></div>
  </div>

<script>
  let player = { name: "", rating: 0 };
  let wishes = [];
  let rewards = [];

  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–∫–∏ —Å GitHub Pages
  async function loadLists() {
    const w = await fetch("wishes.json").then(r => r.json());
    const r = await fetch("rewards.json").then(r => r.json());
    wishes = w;
    rewards = r;
    document.getElementById("wishCount").textContent = wishes.length;
  }

  function startGame() {
    const nick = document.getElementById("nickname").value.trim();
    if (!nick) return alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫!");
    player.name = nick;
    document.getElementById("playerName").textContent = player.name;
    switchScreen(2);
  }

  function showWish() {
    const num = parseInt(document.getElementById("wishNumber").value) - 1;
    if (isNaN(num) || num < 0 || num >= wishes.length) return alert("–ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä!");
    const wish = wishes[num];

    document.getElementById("currentWish").innerHTML = `
      <h3>–ñ–µ–ª–∞–Ω–∏–µ ‚Ññ${num+1}: ${wish}</h3>
      <button onclick="completeWish(${num})">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
      <button onclick="failWish(${num})">–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
    `;
  }

  function completeWish(num) {
    wishes.splice(num, 1); // —É–¥–∞–ª—è–µ–º –∂–µ–ª–∞–Ω–∏–µ
    const reward = rewards[Math.floor(Math.random() * rewards.length)];
    player.rating += 2;
    updateRating();
    document.getElementById("currentWish").innerHTML = `
      <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ –í–∞—à–∞ –Ω–∞–≥—Ä–∞–¥–∞: <span id="reward">${reward}</span></p>
    `;
  }

  function failWish(num) {
    wishes.splice(num, 1);
    player.rating -= 1;
    updateRating();
    document.getElementById("currentWish").innerHTML = `<p>–ñ–∞–ª—å üò¢ –ò–≥—Ä–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–∞.</p>`;
  }

  function updateRating() {
    document.getElementById("rating").textContent = player.rating;
  }

  function switchScreen(n) {
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById("screen" + n).classList.add("active");
  }

  loadLists();
</script>

</body>
</html>


