<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>SEX WISHES</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
    .screen { display: none; }
    .active { display: block; }
    input, textarea, button { margin: 10px; padding: 5px; }
    #reward { font-weight: bold; color: green; }
    #rating { font-weight: bold; color: blue; }
  </style>
</head>
<body>

  <!-- –≠–∫—Ä–∞–Ω 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
  <div id="screen1" class="screen active">
    <h2>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫</h2>
    <input type="text" id="nickname" placeholder="–í–∞—à –Ω–∏–∫">
    <button onclick="startGame()">–ù–∞—á–∞—Ç—å</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–æ–≤ -->
  <div id="screen2" class="screen">
    <h2>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–æ–≤</h2>
    <p>–°–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π (–∫–∞–∂–¥–æ–µ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</p>
    <textarea id="wishes" rows="5" cols="30"></textarea>
    <p>–°–ø–∏—Å–æ–∫ –Ω–∞–≥—Ä–∞–¥ (–∫–∞–∂–¥–∞—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</p>
    <textarea id="rewards" rows="5" cols="30"></textarea>
    <br>
    <button onclick="saveLists()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–∏—Å–∫–∏</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω 3: –ò–≥—Ä–∞ -->
  <div id="screen3" class="screen">
    <h2>–ü—Ä–∏–≤–µ—Ç, <span id="playerName"></span>!</h2>
    <p>–í–∞—à —Ä–µ–π—Ç–∏–Ω–≥: <span id="rating">0</span></p>

    <p>–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∂–µ–ª–∞–Ω–∏—è:</p>
    <input type="number" id="wishNumber" min="1">
    <button onclick="showWish()">–ü–æ–∫–∞–∑–∞—Ç—å –∂–µ–ª–∞–Ω–∏–µ</button>

    <div id="currentWish" style="margin-top:20px;"></div>
  </div>

<script>
  let player = { name: "", rating: 0 };
  let wishes = [];
  let rewards = [];

  function startGame() {
    const nick = document.getElementById("nickname").value.trim();
    if (!nick) return alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫!");
    player.name = nick;
    switchScreen(2);
  }

  function saveLists() {
    wishes = document.getElementById("wishes").value.split("\n").filter(x => x.trim() !== "");
    rewards = document.getElementById("rewards").value.split("\n").filter(x => x.trim() !== "");
    if (wishes.length === 0 || rewards.length === 0) return alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ —Å–ø–∏—Å–∫–∞!");
    document.getElementById("playerName").textContent = player.name;
    switchScreen(3);
  }

  function showWish() {
    const num = parseInt(document.getElementById("wishNumber").value) - 1;
    if (isNaN(num) || num < 0 || num >= wishes.length) return alert("–ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä –∂–µ–ª–∞–Ω–∏—è!");
    const wish = wishes[num];

    document.getElementById("currentWish").innerHTML = `
      <h3>–ñ–µ–ª–∞–Ω–∏–µ ‚Ññ${num+1}: ${wish}</h3>
      <button onclick="completeWish(${num})">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
      <button onclick="failWish(${num})">–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
    `;
  }

  function completeWish(num) {
    wishes.splice(num, 1); // —É–¥–∞–ª–∏—Ç—å –∂–µ–ª–∞–Ω–∏–µ
    const reward = rewards.shift() || "–ë–µ–∑ –Ω–∞–≥—Ä–∞–¥—ã";
    player.rating += 2;
    updateRating();
    document.getElementById("currentWish").innerHTML = `
      <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ –í–∞—à–∞ –Ω–∞–≥—Ä–∞–¥–∞: <span id="reward">${reward}</span></p>
    `;
  }

  function failWish(num) {
    wishes.splice(num, 1);
    player.rating -= 1;
    updateRating();
    document.getElementById("currentWish").innerHTML = `<p>–ñ–∞–ª—å üò¢ –ò–≥—Ä–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–∞.</p>`;
  }

  function updateRating() {
    document.getElementById("rating").textContent = player.rating;
  }

  function switchScreen(n) {
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById("screen" + n).classList.add("active");
  }
</script>

</body>
</html>

